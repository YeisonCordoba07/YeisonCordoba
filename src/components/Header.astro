---

---
<script>

  const handleScroll = () => {

    const sections = document.querySelectorAll("section");
    const navLinks = document.querySelectorAll(".nav-link");

    let currentSection = "";

    /* Detecta la seccion activa*/
    sections.forEach((section) => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;

      if (window.scrollY >= sectionTop - sectionHeight / 3) {
        currentSection = section.getAttribute("id")  ?? "";
      }
    });


    navLinks.forEach((link) => {
      link.classList.remove("active");
      if (link.getAttribute("href") === `#${currentSection}`) {
        link.classList.add("active");
      }
    });

  };

  window.addEventListener("scroll", handleScroll);


</script>




<script is:inline>
  function changeTheme() {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';

    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);

    // Íconos
    const moonIcon = document.getElementById('moon-icon');
    const sunIcon = document.getElementById('sun-icon');

    if (newTheme === 'dark') {
      moonIcon.style.display = 'none';
      sunIcon.style.display = 'block';
    } else {
      moonIcon.style.display = 'block';
      sunIcon.style.display = 'none';
    }
  }

  // Al cargar la página, ajusta el ícono según el tema guardado
  window.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);

    const moonIcon = document.getElementById('moon-icon');
    const sunIcon = document.getElementById('sun-icon');

    if (savedTheme === 'dark') {
      moonIcon.style.display = 'none';
      sunIcon.style.display = 'block';
    } else {
      moonIcon.style.display = 'block';
      sunIcon.style.display = 'none';
    }
  });
</script>





<header>
    <nav class="navbar">
        <a href="#inicio" class="nav-link" id="link-inicio">Inicio</a>
        <a href="#conocimientos" class="nav-link" id="link-conocimientos">Conocimientos</a>
        <a href="#proyectos" class="nav-link" id="link-proyectos">Proyectos</a>
        <button class="nav-theme" onclick="changeTheme()">
            <!-- Ícono de luna (modo claro) -->
            <svg id="moon-icon" width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" style="display: block;">
                <circle cx="15" cy="15" r="12" fill="black" />
                <circle cx="18" cy="12" r="9" fill="lightgray" />
            </svg>

            <!-- Ícono de sol (modo oscuro) -->
            <svg id="sun-icon" width="30" height="30" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style="display: none;">
                <circle cx="50" cy="50" r="20" fill="#ffffff"/>
                <line x1="50" y1="5" x2="50" y2="15" stroke="#ffffff" stroke-width="3"/>
                <line x1="50" y1="85" x2="50" y2="95" stroke="#ffffff" stroke-width="3"/>
                <line x1="5" y1="50" x2="15" y2="50" stroke="#ffffff" stroke-width="3"/>
                <line x1="85" y1="50" x2="95" y2="50" stroke="#ffffff" stroke-width="3"/>
                <line x1="20" y1="20" x2="30" y2="30" stroke="#ffffff" stroke-width="3"/>
                <line x1="80" y1="20" x2="70" y2="30" stroke="#ffffff" stroke-width="3"/>
                <line x1="20" y1="80" x2="30" y2="70" stroke="#ffffff" stroke-width="3"/>
                <line x1="80" y1="80" x2="70" y2="70" stroke="#ffffff" stroke-width="3"/>
            </svg>
        </button>

    </nav>
</header>




<style>
    header {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        position: fixed;
        z-index: 20;
        margin-top: 8px;
    }

    .navbar {
        height: 50px;
        width: fit-content;

        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        padding: 10px 30px;
        border-radius: 25px;

        animation: nav-shadow 1s linear both;
        animation-timeline: scroll();
        animation-range: 0 100px;
        /*filter: blur(8px) brightness(1.2) contrast(1.5) opacity(0.9) saturate(1.8);*/
    }


    @keyframes nav-shadow {
        0% {
            background-color: rgb(255 255 255 / 0);
        }
        100% {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            background: var(--header-background);
            backdrop-filter: blur(12px);
        }
    }

    .nav-link {
        text-decoration: none;
        color: var(--header-text-color);
        font-family: var(--font-family);
        font-weight: 600;
        transition: color 0.2s, border-bottom 0.3s;
        font-size: 20px;
    }

    .nav-link:hover {
        color: var(--header-active-text-color-hover);
    }

    .nav-link.active {
        color: var(--header-active-text-color);
        border-bottom: 3px solid var(--header-active-border-color);
    }

    @media (max-width: 400px){
        .navbar{
            gap: 15px;
            max-width: 100%;
        }
        .nav-link {
            font-size: 16px;
        }
        .nav-theme{

        }
    }

    .nav-theme{
        width: 30px;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        border: none;
        background-color: transparent;
        transition: transform 0.2s ease;
        margin-left: 10px;
    }
    .nav-theme:hover{
        transform: scale(1.25);
    }

</style>